'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.update = update;

var _child_process = require('child_process');

var _utils = require('../utils');

function update(yargs) {
  _utils.Log.args(yargs.argv);

  _utils.Log.info('\nUpdating Meteor and Atmosphere packages...');

  try {
    (0, _child_process.execSync)('meteor update', { stdio: 'inherit' });
  } catch (err) {
    _utils.Log.error('\nError: Meteor update failed');
    process.exit(1);
  }

  _utils.Log.info('\nUpdating Node modules...');
  (0, _utils.upgradeModules)();

  _utils.Log.success('Done!');
}