'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.account = account;

var _utils = require('../../utils');

var _forgotPassword = require('./forgot-password');

var _forgotPassword2 = _interopRequireDefault(_forgotPassword);

var _resetPassword = require('./reset-password');

var _resetPassword2 = _interopRequireDefault(_resetPassword);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var helpMessage = '\nUsage:\n\n  reaction account [command]\n\n    Commands:\n      forgot-password    Request a password reset email to get a password reset token\n      reset-password     Reset your password with a password reset token\n'; // import _ from 'lodash';
function account(yargs) {
  _utils.Log.args(yargs.argv);

  var subCommands = yargs.argv._;
  // const args = _.omit(yargs.argv, ['_', '$0']);

  if (!subCommands[1]) {
    return _utils.Log.default(helpMessage);
  }

  // forgot-password
  if (subCommands[1] === 'forgot-password') {
    var email = subCommands[2];

    if (!email) {
      _utils.Log.error('Error: email required');
      process.exit(1);
    }

    return (0, _forgotPassword2.default)({ email: email });
  }

  // reset-password
  if (subCommands[1] === 'reset-password') {
    return (0, _resetPassword2.default)();
  }
}